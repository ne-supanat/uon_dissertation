import pandas as pd
import plotly.express as px
import os

df = pd.read_csv('./NetLogo Model/outputs.csv')

# Create the line chart using Plotly
fig = px.line(df, x='Tick', y=['Bus', 'Train', 'Car'], 
              title='Transport Usage Over Time', 
              labels={'value': 'Number of Agents', 'variable': 'Transport Type'})

# Update layout for better readability
fig.update_layout(xaxis_title='Tick', yaxis_title='Number of Agents')

# Save visualisation image in folder visualisations
os.makedirs("travel2/visualisations", exist_ok=True)
fig.write_image("travel2/visualisations/transport_usage.png")

#Optionally show the figure
#fig.show()